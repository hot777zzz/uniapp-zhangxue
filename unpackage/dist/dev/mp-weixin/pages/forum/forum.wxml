<view class="forum-container"><view class="search-bar"><view class="search-input-wrap"><text class="iconfont icon-search"></text><input class="search-input" type="text" placeholder="搜索帖子" data-event-opts="{{[['confirm',[['handleSearch',['$event']]]],['input',[['__set_model',['','searchKey','$event',[]]]]]]}}" value="{{searchKey}}" bindconfirm="__e" bindinput="__e"/></view></view><view class="sort-bar"><block wx:for="{{sortOptions}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['handleSort',['$0'],[[['sortOptions','',index,'value']]]]]]]}}" class="{{['sort-item',(currentSort===item.value)?'active':'']}}" bindtap="__e">{{''+item.label+''}}</view></block></view><scroll-view class="article-list" scroll-y="{{true}}" refresher-enabled="{{true}}" refresher-triggered="{{refreshing}}" data-event-opts="{{[['scrolltolower',[['loadMore',['$event']]]],['refresherrefresh',[['refresh',['$event']]]]]}}" bindscrolltolower="__e" bindrefresherrefresh="__e"><block wx:for="{{$root.l1}}" wx:for-item="article" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['goToDetail',['$0'],[[['articleList','',index,'id']]]]]]]}}" class="article-item" bindtap="__e"><view class="article-content"><view class="article-title">{{article.$orig.title}}</view><view class="article-brief">{{article.$orig.content}}</view><block wx:if="{{article.g0}}"><view class="article-images"><block wx:for="{{article.l0}}" wx:for-item="img" wx:for-index="imgIndex" wx:key="imgIndex"><image class="article-image" src="{{img}}" mode="aspectFill"></image></block></view></block><view class="article-info"><view class="article-author">{{article.$orig.author}}</view><view class="article-date">{{article.$orig.date}}</view></view><view class="article-actions"><view data-event-opts="{{[['tap',[['handleLike',['$0'],[[['articleList','',index]]]]]]]}}" class="action-item" catchtap="__e"><text class="iconfont" value="{{article.$orig.isLiked?'icon-like-filled':'icon-like'}}"></text><text class="action-num">{{article.$orig.likes}}</text></view><view data-event-opts="{{[['tap',[['goToDetail',['$0'],[[['articleList','',index,'id']]]]]]]}}" class="action-item" catchtap="__e"><text class="iconfont icon-comment"></text><text class="action-num">{{article.$orig.comments}}</text></view></view></view></view></block><block wx:if="{{loading}}"><view class="loading">加载中...</view></block><block wx:if="{{noMore}}"><view class="no-more">没有更多了</view></block></scroll-view><view data-event-opts="{{[['tap',[['goToPost',['$event']]]]]}}" class="post-btn" bindtap="__e"><text style="color:#fff;">+</text></view></view>